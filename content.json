{"meta":{"title":"abelzzg","subtitle":"the blog as a personal recorder.","description":"this is a public blog recording some technologic personal articles.","author":"Abelzzg","url":"http://abelzzg.com"},"posts":[{"title":"åŸºäºaopæŠ€æœ¯çš„androidæ—¥å¿—æ”¶é›†SDK","slug":"åŸºäºaopæŠ€æœ¯çš„androidæ—¥å¿—æ”¶é›†SDK","date":"2016-05-18T02:12:38.000Z","updated":"2017-02-23T02:29:56.000Z","comments":true,"path":"2016/05/18/åŸºäºaopæŠ€æœ¯çš„androidæ—¥å¿—æ”¶é›†SDK/","link":"","permalink":"http://abelzzg.com/2016/05/18/åŸºäºaopæŠ€æœ¯çš„androidæ—¥å¿—æ”¶é›†SDK/","excerpt":"","text":"åº”ç”¨åˆ†æâ€“æ—¥å¿—é‡‡é›†å¼€å§‹ç»™è¿™ç¯‡blogå‘½åçš„æ—¶å€™å°±æƒ³åˆ°äº†ä¸€ä¸ªè¿™ä¹ˆé•¿çš„åå­—ï¼Œå¾ˆæœ‰è£…é€¼çš„å«Œç–‘ï¼Œä½†æ˜¯æˆ‘ç¡®å®æƒ³ä¸åˆ°æ›´å‡†ç¡®æ¦‚å†µè¿™ç¯‡æ–‡ç« çš„æ ‡é¢˜äº†ã€‚æ‰€ä»¥è¾›è‹¦ã€è¾›è‹¦ğŸ™ğŸ»ã€‚å…ˆç›´æ¥ä¸Šgithubæºç åœ°å€å§!æœ€è¿‘éœ€è¦å°è£…ä¸€ä¸ªæ—¥å¿—æ”¶é›†çš„sdkï¼Œéœ€è¦è®°å½•ç”¨æˆ·æ˜Ÿæ¹–ï¼Œåˆè¦æœ‰é«˜åº¦çš„å¯å®šåˆ¶ï¼Œåˆä¸æƒ³ç”¨ä¼ ç»Ÿçš„æ’æ¡©æ‰“ç‚¹ï¼Œå› ä¸ºé‚£æ ·å¯¹å¾ˆå½±å“å¼€å‘è€…çš„å¿ƒæƒ…ï¼Œä¹Ÿä¼šé™ä½å¼€å‘å’Œç»´æŠ¤çš„æ•ˆç‡ã€‚SOï¼Œæƒ³åˆ°äº†åå°çš„iocï¼Œaopã€‚å»æ‰¾äº†èµ„æ·±åç«¯åŒå­¦äº†è§£äº†ä¸€ä¸‹aspectå’Œæ€ä¹ˆåšæ³¨è§£ï¼Œä»¥å‰çœ‹æˆ‘ä»¬è€å¤§å„ç§è‡ªå®šä¹‰æ³¨è§£ï¼Œæˆ‘ä»¬ç”¨èµ·æ¥å¾ˆæ˜¯æ½‡æ´’ï¼Œæ„Ÿè§‰å¾ˆç‰›é€¼ï¼Œè¿™æ¬¡è¦è‡ªå·±åšæ³¨è§£äº†ï¼Œæˆ‘ä¹Ÿç‰›é€¼ä¸€å›ã€‚ ä¼ ç»Ÿçš„åº”ç”¨ä¿¡æ¯é‡‡é›†æ•°æ®é‡‡é›†ä¸€èˆ¬éƒ½ç¦»ä¸å¼€åŸ‹ç‚¹æ’æ¡©ï¼Œä½†æ˜¯å¤§å¤šæ•°é‡‡é›†åŠŸèƒ½éƒ½éœ€è¦æ‰‹åŠ¨åœ°æ’å…¥ä»£ç ï¼Œæ ‡è¯†æŸæ®µæ“ä½œçš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚ä¾‹å¦‚ä¿¡æ¯æµçš„ä¸‹æ‹‰åˆ·æ–°ï¼Œå·¥ç¨‹å¸ˆå¯ä»¥åœ¨ç¬¬ä¸€ä¸ªè§¦æ‘¸äº‹ä»¶æ—¶æ’å…¥å¼€å§‹æ ‡è®°ï¼Œç„¶ååœ¨å±å¹•æ›´æ–°åæ’å…¥ç»“æŸæ ‡è®°ã€‚è¿™ç§æ–¹æ³•å’ŒAndroid Systraceå·¥å…·æ‰€æä¾›çš„åŠŸèƒ½ç±»ä¼¼ã€‚ å‹ç›Ÿçš„æ”¶é›†æ–¹å¼ï¼Œéƒ½æ˜¯é€šè¿‡è°ƒç”¨ä»£ç æ¥å®ç°ï¼š public void onResume() { super.onResume(); MobclickAgent.onResume(this); } public void onPause() { super.onPause(); MobclickAgent.onPause(this); } MobclickAgent.onProfileSignIn(&quot;userID&quot;); MobclickAgent.onProfileSignIn(&quot;WB&quot;ï¼Œ&quot;userID&quot;); ç”šè‡³è¿é”™è¯¯ç»Ÿè®¡éƒ½éœ€è¦å¼€å‘äººå‘˜å»ä¸»åŠ¨è°ƒç”¨ä»£ç  MobclickAgent.setCatchUncaughtExceptions(false); public static void reportError(Context context, String error) //æˆ– public static void reportError(Context context, Throwable e) è¿™ç§æ–¹æ³•æœ‰è¯¸å¤šå¼Šç«¯ï¼š å¼€å‘è€…æ’æ¡©çš„ç²’åº¦å†³å®šäº†æ•°æ®çš„è¯¦ç»†ç¨‹åº¦ï¼Œå¹¶å¯¼è‡´è¿™ç§æ–¹æ³•åªèƒ½æ£€æµ‹å¯ä»¥é¢„è§çš„æ€§èƒ½å½±å“ã€‚æ¯”å¦‚ï¼Œç½‘ç»œè¿æ¥å’Œå“åº”çš„æ¸²æŸ“é€šå¸¸ä¼šè¢«åˆ—å…¥æ•°æ®é‡‡é›†éœ€æ±‚ä¸­ï¼Œä½†å…¶ä¸­å¯èƒ½è§¦å‘ç£ç›˜å†™å…¥ï¼Œè€Œè¿™ä¸ªä¼šä¸¥é‡æ‹–æ…¢é€Ÿåº¦ï¼Œä½†ä½ ä¸ä¸€å®šä¼šæƒ³èµ·æ”¶é›†æ•°æ®ï¼› Androidåº”ç”¨ç»å¸¸ä½¿ç”¨å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œç”¨æˆ·äº¤äº’çš„é«˜åº¦å¼‚æ­¥ç‰¹ç‚¹ï¼Œå¯¼è‡´å¾ˆéš¾å½»åº•æ£€æµ‹ä»£ç ã€‚ä½ å¿…é¡»ç»™åº”ç”¨ä¸­çš„å­çº¿ç¨‹åˆ†é…å”¯ä¸€è¯†åˆ«ç¬¦ä»¥ä¿è¯æ•°æ®çš„å®Œæ•´ï¼Œè€Œå¼‚æ­¥è®©é‡‡é›†å™¨çš„å›æ”¶å˜å¾—å›°éš¾ï¼› æœ€åï¼Œä¸€èˆ¬åº”ç”¨çš„å¼€å‘é€Ÿåº¦å¾ˆå¿«ï¼Œä»£ç å˜æ›´å¾ˆé¢‘ç¹ï¼Œè¿™è®©æ’å…¥çš„æ ‡è®°ä¹Ÿå¿…é¡»ç»å¸¸å˜åŠ¨ï¼Œè€Œä¸”æ‰‹åŠ¨æ’å…¥æ€§èƒ½æ£€æµ‹ç‚¹éå¸¸è€—æ—¶ä¸”å®¹æ˜“å‡ºé”™ã€‚å·¥ç¨‹å¸ˆçš„æ—¶é—´ä¸åº”è¯¥èŠ±è´¹åœ¨å¯ä»¥è‡ªåŠ¨åŒ–çš„äº‹æƒ…ä¸Šã€‚è€Œä¸”ï¼Œåœ¨ä¸€ä¸ªä¸æ–­å˜åŒ–çš„ä»£ç åº“ä¸­ï¼Œç¡®ä¿è¿™ç±»æ£€æµ‹ç‚¹çš„æ­£ç¡®æ€§éœ€è¦åšå¤§é‡çš„å·¥ä½œã€‚ åœ¨androidé‡‡ç”¨AOPåˆ‡é¢æŠ€æœ¯é‡‡é›†æ•°æ®å‚è€ƒäº†githubä¸ŠAOPåœ¨Androidå®ç°åˆ‡é¢çš„é¡¹ç›®AOPforAndroidã€‚åœ¨è¿™é‡Œåšä¸€ä¸‹ç®€å•è¯´æ˜ï¼šåœ¨ç¨‹åºè¿è¡Œçš„å„ä¸ªéœ€è¦è®°å½•çš„èŠ‚ç‚¹è¿›è¡Œåˆ‡ç‚¹çš„åˆ‡å…¥ï¼Œè®°å½•æ—¥å¿—çš„åŠ¨ä½œä¼šåœ¨åˆ‡ç‚¹ä¸­è¿›è¡Œã€‚ è¿™äº›åˆ‡ç‚¹å…¶å®æ˜¯åœ¨åœ¨ç¼–è¯‘çš„æ—¶å€™é€šè¿‡ç‰¹æ®Šçš„ç¼–è¯‘ç¨‹åºaspectjç¼–ç»‡è¿›å»çš„.ç¨‹åºç¼–è¯‘å®Œæˆä¹‹åï¼Œåˆ‡ç‚¹é‡Œå°±ä¼šæœ‰æ‰§è¡Œæ—¥å¿—é‡‡é›†çš„ä»£ç ã€‚ è¿™ä¸ªé¡¹ç›®æ—¨åœ¨è§£å†³ä»¥ä¸Šä»£ç ä¾µå…¥å’Œç»´æŠ¤å›°éš¾ç­‰é—®é¢˜ï¼Œä½¿ç”¨äº†aspectçš„ä¸€ä¸ªgradleæ’ä»¶ï¼Œå’Œaspectç”¨äºå‘androidæ¡†æ¶ç»‡å…¥åˆ‡ç‚¹çš„jaråŒ…ï¼Œgradleé…ç½®å¦‚ä¸‹ï¼š import com.android.build.gradle.LibraryPlugin import org.aspectj.bridge.IMessage import org.aspectj.bridge.MessageHandler import org.aspectj.tools.ajc.Main buildscript { repositories { mavenCentral() } dependencies { classpath &apos;com.android.tools.build:gradle:0.12.+&apos; classpath &apos;org.aspectj:aspectjtools:1.8.1&apos; } } apply plugin: &apos;android-library&apos; repositories { mavenCentral() } dependencies { compile &apos;org.aspectj:aspectjrt:1.8.1&apos; } android { compileSdkVersion 19 buildToolsVersion &apos;19.1.0&apos; lintOptions { abortOnError false } } android.libraryVariants.all { variant -&gt; LibraryPlugin plugin = project.plugins.getPlugin(LibraryPlugin) JavaCompile javaCompile = variant.javaCompile javaCompile.doLast { String[] args = [&quot;-showWeaveInfo&quot;, &quot;-1.5&quot;, &quot;-inpath&quot;, javaCompile.destinationDir.toString(), &quot;-aspectpath&quot;, javaCompile.classpath.asPath, &quot;-d&quot;, javaCompile.destinationDir.toString(), &quot;-classpath&quot;, javaCompile.classpath.asPath, &quot;-bootclasspath&quot;, plugin.project.android.bootClasspath.join(File.pathSeparator)] MessageHandler handler = new MessageHandler(true); new Main().run(args, handler) def log = project.logger for (IMessage message : handler.getMessages(null, true)) { switch (message.getKind()) { case IMessage.ABORT: case IMessage.ERROR: case IMessage.FAIL: log.error message.message, message.thrown break; case IMessage.WARNING: case IMessage.INFO: log.info message.message, message.thrown break; case IMessage.DEBUG: log.debug message.message, message.thrown break; } } } } åœ¨é¡¹ç›®ä¸­æš‚æ—¶åªæä¾›ä¸‰ç§åˆ‡é¢æ–¹å¼ä½œä¸ºç¤ºä¾‹ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±é¡¹ç›®éœ€æ±‚å®šåˆ¶è‡ªå·±çš„åˆ‡é¢æ–¹å¼ã€‚ BehaviorAspectâ€“ç”¨æˆ·è¡Œä¸ºprivate static final String POINTCUT_METHOD1 =&quot;execution(* android.view.View.OnClickListener .*(..))&quot;; private static final String POINTCUT_METHOD0 =&quot;execution(* android.view.View.OnLongClickListener .*(..))&quot;; private static final String POINTCUT_METHOD2 =&quot;execution(* android.app.Activity.onResume(..))&quot;; private static final String POINTCUT_METHOD3 =&quot;execution(* android.app.Activity.onPause(..))&quot;; CustomerAspectâ€“å®šåˆ¶åˆ‡é¢å®šåˆ¶åˆ‡é¢ï¼Œé¦–å…ˆéœ€è¦æ³¨å†Œä¸€ä¸ªæ³¨è§£æä¾›ç»™å¼€å‘äººå‘˜ä½¿ç”¨ï¼š @Retention(RetentionPolicy.RUNTIME) @Target({ ElementType.CONSTRUCTOR, ElementType.METHOD }) public @interface CustomerTrace { String eventId(); String eventName(); } å®šåˆ¶åˆ‡é¢çš„ä½¿ç”¨ @CustomerTrace(eventName = â€œå®šåˆ¶äº‹ä»¶â€,eventId = â€œdingzhishijianâ€) public void emptymethod(){ } ç„¶ååˆ‡ç‚¹æŒ‡å‘æ³¨è§£æ ‡æ³¨çš„æ–¹æ³•ï¼š private static final String POINTCUT_METHOD = &quot;execution(@com.abel.logservice.annotation.CustomerTrace * *(..))&quot;; private static final String POINTCUT_CONSTRUCTOR = &quot;execution(@com.abel.logservice.annotation.CustomerTrace *.new(..))&quot;; TimeAspectâ€“åº”ç”¨è€—æ—¶è¡Œä¸ºåˆ‡é¢åº”ç”¨è€—æ—¶è¡Œä¸ºåˆ‡é¢ï¼Œç¯åˆ‡åˆ‡ç‚¹çš„æ–¹æ³•ï¼Œè®°å½•æ–¹æ³•è°ƒç”¨ä½¿ç”¨çš„æ—¶é—´ï¼š private static final String POINTCUT_METHOD = &quot;execution(* android.app.Activity.onCreate(..))&quot;; private static final String POINTCUT_METHOD1 = &quot;execution(* android.app.Fragment.onCreateView(..))&quot;; è€—æ—¶æ“ä½œçš„æ³¨è§£å¿…é¡»æ˜¯@Around,æ‰§è¡Œä»£ç ä¸­éœ€è¦è°ƒç”¨processdæ–¹æ³•ï¼Œä¸ç„¶ç¨‹åºä¼šå¡ä½ä¸æ‰§è¡Œã€‚ @Around(â€œmethodAnnotatedWithTimeTrace() || methodAnnotatedWithTimeTrace1()â€) public Object weaveJoinPoint(ProceedingJoinPoint joinPoint) throws Throwable { MethodSignature methodSignature = (MethodSignature) joinPoint.getSignature(); String className = methodSignature.getDeclaringType().getName(); String methodName = methodSignature.getName(); LogReceiverUtils.generateBehaviorEventlog(buildLogMessage(className,methodName)); final StopWatch stopWatch = new StopWatch(); stopWatch.start(); Object result = joinPoint.proceed(); stopWatch.stop(); LogReceiverUtils.generateDuringEventlog(className, methodName, String.valueOf(stopWatch.getTotalTimeMillis())); return result; } æ—¥å¿—å‘é€è®°å½•æ¨¡æ¿æ—¥å¿—çš„è®°å½•å’Œå‘é€ç­–ç•¥åœ¨è¿™é‡Œä¸åšè¯¦ç»†è¯´æ˜ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒå‹ç›Ÿå’Œbugtagsï¼Œç­–ç•¥å®—æ—¨å°±æ˜¯ä¸å½±å“ç”¨æˆ·APPçš„ä½¿ç”¨ï¼Œä¸å ç”¨è¿‡å¤šæµé‡ï¼Œæœ€å¥½å°†æ—¥å¿—å‹ç¼©å­˜å‚¨ï¼Œå½“å¤„äºé«˜é€Ÿç½‘ç»œæ—¶å‘é€ã€‚githubä¸Šæˆ‘çš„é¡¹ç›®ä¸æ˜¯æˆ‘å°è£…çš„æœ€ç»ˆé¡¹ç›®ï¼Œåªæ˜¯ä¸€ä¸ªå¤§ä½“çš„ä¾‹å­ï¼Œè¿˜æœ‰å¥½å¤šå†…å®¹éœ€è¦ä¸°å¯Œå’Œé‡æ–°è§„æ•´ã€‚ å‚è€ƒæ–‡ç« ï¼š è¿™ä½å¾·å›½å¤§å¸…å“¥çš„github","raw":null,"content":null,"categories":[],"tags":[{"name":"android","slug":"android","permalink":"http://abelzzg.com/tags/android/"}]},{"title":"anroidä¸æœåŠ¡å™¨ç«¯ä¿æŒä¼šè¯æ–¹å¼","slug":"anroidä¸æœåŠ¡å™¨ç«¯ä¿æŒä¼šè¯æ–¹å¼","date":"2016-03-01T03:39:06.000Z","updated":"2017-02-23T01:58:18.000Z","comments":true,"path":"2016/03/01/anroidä¸æœåŠ¡å™¨ç«¯ä¿æŒä¼šè¯æ–¹å¼/","link":"","permalink":"http://abelzzg.com/2016/03/01/anroidä¸æœåŠ¡å™¨ç«¯ä¿æŒä¼šè¯æ–¹å¼/","excerpt":"","text":"anroidä¸æœåŠ¡å™¨ç«¯ä¿æŒä¼šè¯æ–¹å¼Androidæä¾›Httpè®¿é—®çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯HttpClientï¼Œä¸€ç§æ˜¯HttpUrlConnection.è¿™ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥é€šè¿‡sessionIDçš„ä¿å­˜æ¥ä¿æŒå’ŒæœåŠ¡ç«¯çš„ä¼šè¯ httpClientå…¶å®ä¿æŒHttpClientçš„è¯·æ±‚Sessionï¼Œå°±æ˜¯ä¿è¯åœ¨æ¯æ¬¡Httpè¯·æ±‚è®¿é—®çš„è¯·æ±‚å¤´ä¿¡æ¯çš„Cookieå‚æ•°ä¸­ï¼Œæºå¸¦åŒä¸€ä¸ªJSESSIONIDï¼Œåªè¦ä¿è¯æ¯æ¬¡æ˜¯ä¸€æ ·çš„ï¼ŒæœåŠ¡å™¨å°±è®¤ä¸ºæ˜¯åŒä¸€Sessionï¼Œè¿™å°±ä¿æŒäº†Seesionä¼šè¯ã€‚é‚£ä¹ˆè¿™ä¸ªJSESSIONIDæ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Œæ˜¯æœåŠ¡å™¨é€šè¿‡å“åº”å¤´ä¿¡æ¯ç»™çš„ï¼ŒæœåŠ¡å™¨åœ¨ç»™å®¢æˆ·ç«¯è®¾ç½®Cookieæ—¶ï¼Œä¼šé€šè¿‡å“åº”å¤´ä¿¡æ¯ä¸­çš„Set-Cookieå‚æ•°ä¼ é€’å›æ¥ï¼Œåªè¦æœ‰æ–°è®¾ç½®çš„Cookieï¼Œå°±æ˜¯é€šè¿‡è¿™ä¸ªä¼ é€’è¿‡æ¥ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ˜¯nullï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨è¯·æ±‚å®Œä¹‹åè¿”å›çš„ä¿¡æ¯é‡Œè¯»å–è¿™ä¸ªSet-Cookieå¤´ä¿¡æ¯ï¼Œç„¶åä¿å­˜èµ·æ¥ï¼Œåœ¨ä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™ç»™æœåŠ¡å™¨å‘é€è¿‡å»ï¼Œå°±å®ç°äº†ä¿æŒSeesionçš„ç›®çš„ã€‚ä»£ç å¦‚ä¸‹ï¼š //å®šä¹‰å‚¨å­˜Cookieä¿¡æ¯ private String cookies; public void executeGet(String url) throws ClientProtocolException, IOException{ HttpClient httpClient=new DefaultHttpClient(); HttpGet httpGet=new HttpGet(url); setRequestCookies(httpGet); HttpResponse response=httpClient.execute(httpGet); appendCookies(response); } /** * è®¾ç½®è¯·æ±‚çš„Cookieå¤´ä¿¡æ¯ * @param reqMsg */ private void setRequestCookies(HttpMessage reqMsg) { if(!TextUtils.isEmpty(cookies)){ reqMsg.setHeader(&quot;Cookie&quot;, cookies); } } /** * æŠŠæ–°çš„Cookieå¤´ä¿¡æ¯é™„åŠ åˆ°æ—§çš„Cookieåé¢ * ç”¨äºä¸‹æ¬¡Httpè¯·æ±‚å‘é€ * @param resMsg */ private void appendCookies(HttpMessage resMsg) { Header setCookieHeader=resMsg.getFirstHeader(&quot;Set-Cookie&quot;); if (setCookieHeader != null &amp;&amp; TextUtils.isEmpty(setCookieHeader.getValue())) { String setCookie=setCookieHeader.getValue(); if(TextUtils.isEmpty(cookies)){ cookies=setCookie; }else{ cookies=cookies+&quot;; &quot;+setCookie; } } } å½“æˆ‘ä»¬éœ€è¦é‡æ–°è®¾ç½®Seesionçš„æ—¶å€™ï¼Œè¯·æ±‚æˆ‘ä»¬ä¿å­˜çš„cookieå³å¯ï¼Œè¿™æ ·ä»£ç å°±ä¼šé‡æ–°è·å–ã€‚å¦‚æœéƒ½æœ‰ä¸ªè´¦å·å¹¶å‘å¤‡ä»½ï¼Œé‚£ä¹ˆä¸€ä¸ªè´¦å·åˆ†é…ä¸€ä¸ªcookieå˜é‡å­˜å‚¨å³å¯ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸Šé¢çš„ä»£ç æ”¾åˆ°ä¸€ä¸ªå¦‚HttpManagerç®¡ç†çš„ç±»é‡Œï¼Œæ¯ä¸ªè´¦å·çš„å¤‡ä»½éƒ½å¯ä»¥newä¸ªHttpManagerå®ä¾‹ï¼Œè¿™æ ·æ¯ä¸ªè´¦å·éƒ½å¯ä»¥å•ç‹¬å¤„ç†è‡ªå·±çš„Cookieï¼Œäº’ä¸å¹²æ‰°ã€‚ HttpUrlConnectionè·å–Cookieï¼š URL url = new URL(requrl); HttpURLConnection con= (HttpURLConnection) url.openConnection(); // å–å¾—sessionid. String cookieval = con.getHeaderField(&quot;set-cookie&quot;); String sessionid; if(cookieval != null) { sessionid = cookieval.substring(0, cookieval.indexOf(&quot;;&quot;)); } //sessionidå€¼æ ¼å¼ï¼šJSESSIONID=AD5F5C9EEB16C71EC3725DBF209F6178ï¼Œæ˜¯é”®å€¼å¯¹ï¼Œä¸æ˜¯å•æŒ‡å€¼å‘é€è®¾ç½®cookieï¼š URL url = new URL(requrl); HttpURLConnectioncon= (HttpURLConnection) url.openConnection(); if(sessionid != null) { con.setRequestProperty(&quot;cookie&quot;, sessionid); } åªè¦è®¾ç½®äº†sessionIDï¼Œè¿™æ ·webæœåŠ¡å™¨åœ¨æ¥å—è¯·æ±‚çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æœç´¢å¯¹åº”çš„sessionäº†ï¼Œä»è€Œä¿è¯äº†åœ¨åŒä¸€ä¼šè¯Sessionã€‚","raw":null,"content":null,"categories":[],"tags":[{"name":"android","slug":"android","permalink":"http://abelzzg.com/tags/android/"}]},{"title":"ä½¿ç”¨hexoé‡åˆ°çš„å‘","slug":"ä½¿ç”¨hexoé‡åˆ°çš„å‘","date":"2016-02-12T10:19:56.000Z","updated":"2017-02-23T02:02:02.000Z","comments":true,"path":"2016/02/12/ä½¿ç”¨hexoé‡åˆ°çš„å‘/","link":"","permalink":"http://abelzzg.com/2016/02/12/ä½¿ç”¨hexoé‡åˆ°çš„å‘/","excerpt":"","text":"ä½¿ç”¨hexoæ—¶é‡åˆ°çš„å‘hexo gå‘½ä»¤æŠ¥é”™$hexo-blog hexo g INFO Start processing ERROR Process failed: _posts/Helloworld.md TypeError: Cannot read property &apos;offset&apos; of null è¿™ä¸ªé—®é¢˜å°±ç‰›é€¼äº†ï¼Œå„ç§googleã€ç™¾åº¦ï¼Œç”¨å‘½ä»¤hexo g æ—¶ï¼ŒæŠ¥é”™Cannot read property â€˜offsetâ€™ of nullï¼Œåˆšå¼€å§‹ä»¥ä¸ºæ˜¯nodeç‰ˆæœ¬é—®é¢˜ï¼Œéœ€è¦æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ä¹Ÿæœ‰å¯èƒ½æ˜¯æˆ‘ç”¨äº†yiliaçš„ä¸»é¢˜ï¼Œå¿½ç•¥äº†hexoçš„æ ¹ç›®å½•ä¸‹çš„jsonä»£ç å— jsonContent: meta: false pages: false posts: title: true date: true path: true text: true raw: false content: false slug: false updated: false comments: false link: false permalink: false excerpt: false categories: false tags: true éœ€è¦åŠ å…¥åˆ° _config.ymlä¸­ã€‚æœ€åæ‰¾åˆ°åŸå› äº†ğŸ˜„â€“æ ¹ç›®å½•çš„_config.ymlæ–‡ä»¶ä¸­æ—¶åŒºé…ç½®æˆ‘æ”¹æˆäº†timezone: Asia/Beijingï¼Œè¿™ä¸ªæ”¹å›Shanghaiå°±okäº†ï¼Œå…·ä½“ä¸ºå•¥ï¼Œæˆ‘ä¹Ÿæ²¡å¼„æ˜ç™½ã€‚ æ›´æ–°nodeæ–¹å¼å¦‚ä¸‹macä¸ŠOS11ä»¥åæƒé™æœ‰æ‰€å˜åŒ–ï¼Œè¾“å…¥sudo brew upgrade nodeå‘½ä»¤åï¼Œä¼šæŠ¥é”™è¯¯æç¤ºï¼Œæ— æ³•è·Ÿä»¥å‰ä¸€æ ·æ„‰å¿«åœ°æ›´æ–°node Error: Running Homebrew as root is extremely dangerous and no longer supported. As Homebrew does not drop privileges on installation you would be giving all build scripts full access to your system. æ‰€ä»¥è¦å¦æ±‚ä»–æ³•ï¼Œé“¾æ¥åœ¨æ­¤ åŒæ—¶æ€•è¿™ä¸ªé“¾æ¥ï¼Œå¹´ä¹…å¤±æ•ˆï¼Œä¹Ÿåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚ åˆ‡è®°è¦æŒ‰ç…§æ­¥éª¤: ç¬¬ä¸€æ­¥ï¼Œå…ˆæŸ¥çœ‹æœ¬æœºnode.jsç‰ˆæœ¬ï¼š $ node -v ç¬¬äºŒæ­¥ï¼Œæ¸…é™¤node.jsçš„cacheï¼š $ sudo npm cache clean -f ç¬¬ä¸‰æ­¥ï¼Œå®‰è£… n å·¥å…·ï¼Œè¿™ä¸ªå·¥å…·æ˜¯ä¸“é—¨ç”¨æ¥ç®¡ç†node.jsç‰ˆæœ¬çš„ï¼Œåˆ«æ€€ç–‘è¿™ä¸ªå·¥å…·çš„åå­—ï¼Œæ˜¯ä»–æ˜¯ä»–å°±æ˜¯ä»–ï¼Œä»–çš„åå­—å°±æ˜¯ &quot;n&quot; $ sudo npm install -g n ç¬¬å››æ­¥ï¼Œå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„node.js $ sudo n stable ç¬¬äº”æ­¥ï¼Œå†æ¬¡æŸ¥çœ‹æœ¬æœºçš„node.jsç‰ˆæœ¬ï¼š $ node -v è¿™é‡Œçš„ç¬¬ä¸€æ­¥å’Œç¬¬äº”æ­¥å®Œå…¨å¯ä»¥çœç•¥ï¼Œåªæ˜¯ä¸ªäººæ¯”è¾ƒå–œæ¬¢æŸ¥çœ‹ä¸€ä¸‹ï¼Œæ»¡è¶³è‡ªå·±çš„çœ¼ç›ã€‚ç¬¬äºŒæ­¥æ¯”è¾ƒé‡è¦ï¼Œæœ‰äº›å¯ä»¥çœç•¥æœ‰äº›å°±ä¸è¡Œï¼Œä¸€å¾‹ä½¿ç”¨å‡†æ²¡é”™ã€‚å¦‚æœä½ çš„sudo n stableç¬¬ä¸€è¿˜èƒ½ä¸‹è½½nodeï¼Œä½†æ˜¯ä¸‹åˆ°ä¸€åŠå°±æŠ¥é”™ï¼Œç„¶åå†æ‰“ä¸€éå‘½ä»¤å°±æ²¡ååº”äº†ã€‚é‚£ä¹Ÿæ˜¯å› ä¸ºosçš„ç‰ˆæœ¬å¤ªé«˜äº†ï¼Œåšäº†æ–‡ä»¶è¯»å†™çš„æƒé™æ§åˆ¶ï¼Œæ‰€ä»¥ä¸Šç½‘æœä¸€ä¸‹æ€ä¹ˆè®©sudoçœŸæ­£èƒ½è·å–rootæƒé™ã€‚è¿™è¦é ä½ ä»¬è‡ªå·±åŠ¨æ‰‹äº†ã€‚ githubå‘å¸ƒå404æœ¬åœ°è¿è¡ŒæˆåŠŸåï¼Œæ»¡æ€€å¸Œæœ›å¾—deployåˆ°githubï¼Œæ¿€åŠ¨åœ°æ‰“äº†è‡ªå·±çš„åŸŸåabelzzg.github.io,å±…ç„¶404äº†ï¼Œæ¥å›åˆçœ‹äº†ä¸¤è¾¹å‘½ä»¤æ˜¯ä¸æ˜¯å°‘äº†ä»€ä¹ˆã€‚ä¹‹å‰æˆ‘ä¹Ÿæ²¡æœ‰æ³¨æ„åˆ°å‘å¸ƒhexoåˆ°githubçš„ä½œè€…åœ¨å†™ä½¿ç”¨è¯´æ˜æ—¶ï¼Œæœ‰ä¸€å¥ å»ºç«‹ä¸ä½ ç”¨æˆ·åå¯¹åº”çš„ä»“åº“ï¼Œä»“åº“åå¿…é¡»ä¸ºã€your_user_name.github.ioã€‘ é¢æ»´ä¸ªç¥å‘ï¼Œè´¹äº†æˆ‘å¥½ä¸€å¤§æ®µåŠŸå¤«ï¼ˆå…¶å®ä¹Ÿå°±10åˆ†é’Ÿï¼‰ï¼Œå¯æ˜¯å¿ƒç´¯å‘€ã€‚ç„¶åhexoçš„æ ¹ç›®å½•ä¸Šå¿…é¡»å†™æˆ deploy: type: git repo: https://github.com/Abelzzg/abelzzg.github.io.git branch: master æ„æ€å°±æ˜¯è¯´æˆ‘githubä¸Šçš„åº“åå­—éƒ½å»ºé”™äº†ï¼Œåˆ äº†é‡æ–°æ¥ã€‚ç„¶åå°±OKäº†ã€‚ğŸ‘ğŸ‘","raw":null,"content":null,"categories":[],"tags":[{"name":"å…³äºåšå®¢","slug":"å…³äºåšå®¢","permalink":"http://abelzzg.com/tags/å…³äºåšå®¢/"}]},{"title":"helloworld","slug":"helloworld","date":"2016-01-22T08:39:06.000Z","updated":"2017-02-23T01:58:33.000Z","comments":true,"path":"2016/01/22/helloworld/","link":"","permalink":"http://abelzzg.com/2016/01/22/helloworld/","excerpt":"","text":"","raw":null,"content":null,"categories":[],"tags":[{"name":"è‡ªä¾¿å§","slug":"è‡ªä¾¿å§","permalink":"http://abelzzg.com/tags/è‡ªä¾¿å§/"}]},{"title":"ç¬¬ä¸€ç¯‡æ­£å¼blog","slug":"ç¬¬ä¸€ç¯‡blog","date":"2016-01-22T08:39:06.000Z","updated":"2017-02-23T02:02:31.000Z","comments":true,"path":"2016/01/22/ç¬¬ä¸€ç¯‡blog/","link":"","permalink":"http://abelzzg.com/2016/01/22/ç¬¬ä¸€ç¯‡blog/","excerpt":"","text":"ä¸ºä»€ä¹ˆè¦æœ‰è‡ªå·±çš„åšå®¢åˆšè¿‡å®Œå¹´å›æ¥ï¼Œåˆæ˜¯æŠ€æœ¯ç•Œçš„å¤šäº‹ä¹‹æ˜¥ï¼Œé‡‘ä¸‰é“¶å››çš„æ—¥å­é©¬ä¸Šåˆè¦æ¥äº†ã€‚å…¬å¸ç»„ç»‡æ¶æ„å˜åŠ¨å¾ˆå¤§ï¼Œæš‚æ—¶è¿˜æ²¡æœ‰ä»€ä¹ˆæ´»å¹²ï¼ˆå› ä¸ºå¹´å‰å†²ç»©æ•ˆéƒ½å¹²å®Œäº†ï¼‰ï¼Œä¸å°‘åŒäº‹é€‰æ‹©äº†ç¦»èŒï¼Œæ’©å¾—æˆ‘ä¹Ÿæ˜¥å¿ƒè¡æ¼¾ï¼Œæƒ³ç€èƒ½è¶è¿™ä¸ªæœºä¼šå¥½å¥½å­¦ä¹ å­¦ä¹ ï¼Œæ€»ç»“å·©å›ºä¹‹å‰åšçš„ä¸œè¥¿ï¼Œç„¶åâ€¦ç„¶åâ€¦å“‡å“ˆå“ˆï¼ˆè®©æˆ‘YYä¸€ä¸‹ï¼‰ ä¸Šç¨€åœŸæ˜é‡‘å»å¹´å¼€å§‹å¤©å¤©åˆ·ç¨€åœŸæ˜é‡‘ï¼ŒæŠŠé»„æ˜“ç»™å¸è½½äº†ï¼Œå¤ªæµªè´¹æ—¶é—´ã€‚æ˜é‡‘ä¸Šå‘ç°å¥½å¤šå¤§ç¥éƒ½æœ‰è‡ªå·±çš„ç§äººåšå®¢ï¼Œæœ‰çš„ç”šè‡³ä¹°äº†åŸŸåï¼Œå¥½åƒå¾ˆé«˜å¤§ä¸Šã€‚é‡Œé¢è®°å½•äº†ä¸€äº›è‡ªå·±åšæŠ€æœ¯çš„å¿ƒå¾—å’Œæ€»ç»“ï¼Œä¹Ÿæœ‰ä¸å°‘æ˜¯è·ŸæŠ€æœ¯æ— å…³è·Ÿå¿ƒæ€æœ‰å…³çš„ï¼Œéå¸¸æœ‰æ„æ€ã€‚é€æ¸å°±çœ‹ä¸Šçœ‹è¿™äº›ç¨‹åºçŒ¿ä»¬çš„æ–‡ç« ï¼Œæœ‰ç‚¹å¿—åŒé“åˆçš„æ„Ÿè§‰ï¼Œä½†æ˜¯æ¯”èµ·æŠ€æœ¯æ¥ï¼Œæˆ‘å°±æ˜¯ä¸ªæ¸£ï¼Œä½†æ˜¯æ¯”èµ·å±Œä¸ï¼Œæˆ‘å°±æ˜¯å±Œç‹ã€‚ åæ€è‡ªå·±çªç„¶å‘ç°å·²ç»æ¯•ä¸šä¸‰å¹´äº†ï¼Œå±…ç„¶æ²¡æœ‰è‡ªå·±çš„åšå®¢ã€‚åˆšæ¯•ä¸šä¸Šcsdnä¸Šå†™è¿‡å‡ ç¯‡ï¼Œå¯èƒ½æ˜¯è‡ªå·±å¤ªè‚¤æµ…äº†ï¼Œæ¯›è¿˜æ²¡é•¿é½å°±æƒ³å†™æŠ€æœ¯åšå®¢ï¼Œå‘ç°æ²¡æœ‰ä»€ä¹ˆæµè§ˆé‡ï¼Œåæ¥ä¹Ÿå°±æ‡’å¾—å†™äº†ï¼Œå†åæ¥ä¸Šcsdnï¼Œå‘ç°æˆ‘çš„æ–‡ç« è¢«å°äº†ï¼Œä¸çŸ¥é“ä¸ºå•¥ï¼Œå ç”¨ä½ ä»¬æœåŠ¡å™¨çš„å†…å­˜äº†å—ï¼Ÿé‚£æˆ‘è¯šæ³çš„å‘ä½ ä»¬é“æ­‰ï¼ã€‚éƒ½è¯´æŠ€æœ¯3å¹´æ˜¯ä¸€ä¸ªåï¼Œè¦ä¹ˆé»˜é»˜æ— é—»åšæŠ€æœ¯å®…ç”·ï¼Œè¦ä¹ˆå‡èŒåŠ è–ªåšä¸Šå°é¢†å¯¼ã€‚å›å¤´çœ‹çœ‹æˆ‘ï¼Œé™¤äº†åšandroidè¿˜å‡‘åˆä»¥å¤–ï¼ŒåŸºæœ¬æ²¡å•¥é•¿å¤„ï¼Œå»é¢è¯•ä¼°è®¡ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆå¥½çš„å½’å®¿ï¼Œæ‰€ä»¥å†³å¿ƒå‘å¥‹å›¾å¼ºå¼€å§‹å†™blogï¼Œç›‘ç£è‡ªå·±ä¸å†è™šåº¦æ—¶å…‰ï¼Œå†µä¸”ç¨‹åºå‘˜çš„èŒä¸šç”Ÿæ¶¯ä¹Ÿä¸é•¿ï¼Œå°±è¿æˆ‘å¦ˆéƒ½çŸ¥é“åšè¿™æ ·è¦ä¸åœå­¦ä¹ æ–°æŠ€æœ¯ï¼Œæ¯å¤©æ‰“ç”µè¯å°±ç¦»ä¸å¼€è¦é—®æˆ‘â€œæœ€è¿‘æœ‰æ²¡æœ‰å­¦ä¹ ï¼Ÿâ€â€œè¿˜æ˜¯è¦å­¦ä¸€äº›ä¸œè¥¿çš„ï¼Œè¦ä¸ç„¶ä¸å¥½æ¶¨å·¥èµ„â€ã€‚ å…³äºå†™ä½œæŠ€å·§ä»å°ä½œæ–‡å†™ä¸å¥½ï¼Œä½†æ˜¯æ€»æ˜¯èƒ½æŠ„åˆ°ï¼Œèƒ½è’™æ··è¿‡å…³ï¼Œåæ¥æŠ„å¤šäº†å‘ç°ï¼Œå¦‚æœå“ªæ¬¡è€ƒè¯•æ˜¯è‡ªå·±å†™çš„ï¼Œè¿˜èƒ½æ‹¿åˆ°æ¯”æŠ„çš„ä½œæ–‡æ›´é«˜ä¸€äº›çš„åˆ†æ•°ï¼Œåæ¥å°±å˜æˆè‡ªå·±å†™äº†ï¼Œè™½ç„¶ä¹Ÿå†™ä¸å¥½ï¼Œä½†æ˜¯ä¹Ÿç®—æ˜¯é”»ç‚¼ã€‚å•°å—¦å®Œäº†ï¼Œå‡†å¤‡deployå§ï¼Œè¿˜æ²¡æœ‰åŸåˆ›ï¼Œå…ˆæŠŠæ”¶è—åœ¨elephanté‡Œé¢çš„æŠ€æœ¯æ–‡ç« copyä¸€ä¸‹å§ï¼å“ï¼Œè¿˜å¾—è½¬æˆ.mdæ ¼å¼çš„ï¼Œå¿ƒç´¯å‘€â€¦â€¦","raw":null,"content":null,"categories":[],"tags":[]}]}